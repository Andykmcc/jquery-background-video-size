/*! background-video-size - v0.0.0 - 2014-03-04
* https://github.com/andykmcc/background-video-size
* Copyright (c) 2014 Andy McCoy; Licensed MIT */
!function(a){a.fn.backgroundVideo=function(b){return this.each(function(){return new f(a(this),b)})};var b=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),c=function(){return a("<div>").addClass("big-video-wrapper").css({position:"fixed",top:0,left:0,width:"100%",height:"100%",overflow:"hidden","z-index":0})},d=function(){return a("<div>").addClass("big-video-scaleable-wrapper").css({position:"relative",width:"100%",height:"100%"})},e=function(b){return a("<div>").addClass("big-video-intrinsic-wrapper").css({position:"relative",height:0,"padding-bottom":100*parseFloat(b.height/b.width,10)+"%"})},f=function(f,g){var h=this;this.$iframe=g,this.$container=f,this.$window=a(window),this.resized=!1,this.bgVideoSize={width:h.$iframe.width(),height:h.$iframe.height()},this.vidAR=this.bgVideoSize.width/this.bgVideoSize.height;var i=function(){h.$iframe.wrap(c(h.bgVideoSize)).wrap(d(h.bgVideoSize)).wrap(e(h.bgVideoSize)).css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}),h.$scaleableWrapper=a(".big-video-scaleable-wrapper")},j=function(){var a={height:h.$window.height(),width:h.$window.width()},b=a.width/a.height;if(b<h.vidAR){var c=a.height*h.vidAR;h.$scaleableWrapper.height(a.height).width(c).css({top:0,left:"50%","margin-top":0,"margin-left":c/2*-1})}else if(b>h.vidAR){var d=a.width*(h.bgVideoSize.height/h.bgVideoSize.width);h.$scaleableWrapper.height(d).width(a.width).css({top:"50%",left:0,"margin-top":d/2*-1,"margin-left":0})}},k=function(a){h.resized=a},l=function(){b(l),h.resized&&(j(),k(!1))},m=function(){a(window).on("resize",function(){k(!0)})};return function(){i(),j(),m(),l()}(),this}}(jQuery);