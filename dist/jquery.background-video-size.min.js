/*! background-video-size - v0.0.0 - 2014-03-04
* https://github.com/andykmcc/background-video-size
* Copyright (c) 2014 Andy McCoy; Licensed MIT */
!function(a){a.fn.backgroundVideo=function(b){return this.each(function(){return new h(a(this),b)})};var b=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),c=function(){return a("<div>").addClass("big-video-wrapper").css({position:"fixed",top:0,left:0,width:"100%",height:"100%",overflow:"hidden","z-index":0})},d=function(){return a("<div>").addClass("big-video-scaleable-wrapper").css({position:"relative",width:"100%",height:"100%"})},e=function(b){return a("<div>").addClass("big-video-intrinsic-wrapper").css({position:"relative",height:0,"padding-bottom":100*parseFloat(b.height/b.width,10)+"%"})},f=function(b){var c=a('<iframe width="420" height="315" frameborder="0" allowfullscreen></iframe>'),d={youtube:"//www.youtube.com/embed/"};return b.match(/http|https|www/i)?c.attr("src",b):c.attr("src",d.youtube+b),a("body").append(c),c},g=function(b){if(!b)throw"Please provide a valid iframe, embed url or youtube video id";if(b.jquery)return b;if(1===b.nodeType)return a(b);if("string"==typeof b)return f(b);throw"Please provide a valid iframe, embed url or youtube video id"},h=function(f,h){var i=this;this.$container=f,this.$window=a(window),this.resized=!1,this.$iframe=g(h),this.bgVideoSize={width:i.$iframe.width(),height:i.$iframe.height()},this.vidAR=this.bgVideoSize.width/this.bgVideoSize.height;var j=function(){i.$iframe.wrap(c(i.bgVideoSize)).wrap(d(i.bgVideoSize)).wrap(e(i.bgVideoSize)).css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}),i.$scaleableWrapper=a(".big-video-scaleable-wrapper")},k=function(){var a={height:i.$window.height(),width:i.$window.width()},b=a.width/a.height;if(b<i.vidAR){var c=a.height*i.vidAR;i.$scaleableWrapper.height(a.height).width(c).css({top:0,left:"50%","margin-top":0,"margin-left":c/2*-1})}else if(b>i.vidAR){var d=a.width*(i.bgVideoSize.height/i.bgVideoSize.width);i.$scaleableWrapper.height(d).width(a.width).css({top:"50%",left:0,"margin-top":d/2*-1,"margin-left":0})}},l=function(a){i.resized=a},m=function(){b(m),i.resized&&(k(),l(!1))},n=function(){a(window).on("resize",function(){l(!0)})};return function(){j(),k(),n(),m()}(),this}}(jQuery);